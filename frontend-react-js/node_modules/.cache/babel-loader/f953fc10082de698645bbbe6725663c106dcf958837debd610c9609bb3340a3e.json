{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Auth}from'aws-amplify';var checkAuth=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(setUser){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:Auth.currentAuthenticatedUser({// Optional, By default is false. \n// If set to true, this call will send a \n// request to Cognito to get the latest user data\nbypassCache:false}).then(function(user){console.log('user',user);return Auth.currentAuthenticatedUser();}).then(function(cognito_user){setUser({display_name:cognito_user.attributes.name,handle:cognito_user.attributes.preferred_username});}).catch(function(err){return console.log(err);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function checkAuth(_x){return _ref.apply(this,arguments);};}();export default checkAuth;","map":{"version":3,"names":["Auth","checkAuth","setUser","currentAuthenticatedUser","bypassCache","then","user","console","log","cognito_user","display_name","attributes","name","handle","preferred_username","catch","err"],"sources":["/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/src/lib/CheckAuth.js"],"sourcesContent":["import { Auth } from 'aws-amplify';\n\nconst checkAuth = async (setUser) => {\n  Auth.currentAuthenticatedUser({\n    // Optional, By default is false. \n    // If set to true, this call will send a \n    // request to Cognito to get the latest user data\n    bypassCache: false \n  })\n  .then((user) => {\n    console.log('user',user);\n    return Auth.currentAuthenticatedUser()\n  }).then((cognito_user) => {\n      setUser({\n        display_name: cognito_user.attributes.name,\n        handle: cognito_user.attributes.preferred_username\n      })\n  })\n  .catch((err) => console.log(err));\n};\n\nexport default checkAuth;"],"mappings":"wSAAA,OAASA,IAAI,KAAQ,aAAa,CAElC,GAAMC,UAAS,4FAAG,iBAAOC,OAAO,oHAC9BF,IAAI,CAACG,wBAAwB,CAAC,CAC5B;AACA;AACA;AACAC,WAAW,CAAE,KACf,CAAC,CAAC,CACDC,IAAI,CAAC,SAACC,IAAI,CAAK,CACdC,OAAO,CAACC,GAAG,CAAC,MAAM,CAACF,IAAI,CAAC,CACxB,MAAON,KAAI,CAACG,wBAAwB,EAAE,CACxC,CAAC,CAAC,CAACE,IAAI,CAAC,SAACI,YAAY,CAAK,CACtBP,OAAO,CAAC,CACNQ,YAAY,CAAED,YAAY,CAACE,UAAU,CAACC,IAAI,CAC1CC,MAAM,CAAEJ,YAAY,CAACE,UAAU,CAACG,kBAClC,CAAC,CAAC,CACN,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,QAAKT,QAAO,CAACC,GAAG,CAACQ,GAAG,CAAC,GAAC,CAAC,sDACnC,kBAjBKf,UAAS,4CAiBd,CAED,cAAeA,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}