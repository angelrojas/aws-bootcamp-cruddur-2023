{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./SignupPage.css';import React from\"react\";import{ReactComponent as Logo}from'../components/svg/logo.svg';import{Link}from\"react-router-dom\";// [TODO] Authenication\nimport{Auth}from'aws-amplify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignupPage(){// Username is Eamil\nvar _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),username=_React$useState6[0],setUsername=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),password=_React$useState8[0],setPassword=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),errors=_React$useState10[0],setErrors=_React$useState10[1];var onsubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$Auth$signUp,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setErrors('');console.log('username',username);console.log('email',email);console.log('name',name);_context.prev=5;_context.next=8;return Auth.signUp({username:email,password:password,attributes:{name:name,email:email,preferred_username:username},autoSignIn:{// optional - enables auto sign in after user is confirmed\nenabled:true}});case 8:_yield$Auth$signUp=_context.sent;user=_yield$Auth$signUp.user;console.log(user);window.location.href=\"/confirm?email=\".concat(email);_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](5);console.log(_context.t0);setErrors(_context.t0.message);case 18:return _context.abrupt(\"return\",false);case 19:case\"end\":return _context.stop();}}},_callee,null,[[5,14]]);}));return function onsubmit(_x){return _ref.apply(this,arguments);};}();var name_onchange=function name_onchange(event){setName(event.target.value);};var email_onchange=function email_onchange(event){setEmail(event.target.value);};var username_onchange=function username_onchange(event){setUsername(event.target.value);};var password_onchange=function password_onchange(event){setPassword(event.target.value);};var el_errors;if(errors){el_errors=/*#__PURE__*/_jsx(\"div\",{className:\"errors\",children:errors});}return/*#__PURE__*/_jsxs(\"article\",{className:\"signup-article\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signup-info\",children:/*#__PURE__*/_jsx(Logo,{className:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-wrapper\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"signup_form\",onSubmit:onsubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign up to create a Cruddur account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field text_field name\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:name_onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field text_field email\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:email_onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field text_field username\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:username_onchange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field text_field password\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:password_onchange})]})]}),el_errors,/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"already-have-an-account\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Already have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Sign in!\"})]})]})]});}","map":{"version":3,"names":["React","ReactComponent","Logo","Link","Auth","SignupPage","useState","name","setName","email","setEmail","username","setUsername","password","setPassword","errors","setErrors","onsubmit","event","preventDefault","console","log","signUp","attributes","preferred_username","autoSignIn","enabled","user","window","location","href","message","name_onchange","target","value","email_onchange","username_onchange","password_onchange","el_errors"],"sources":["/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/src/pages/SignupPage.js"],"sourcesContent":["import './SignupPage.css';\nimport React from \"react\";\nimport {ReactComponent as Logo} from '../components/svg/logo.svg';\nimport { Link } from \"react-router-dom\";\n\n// [TODO] Authenication\nimport { Auth } from 'aws-amplify';\n\nexport default function SignupPage() {\n\n  // Username is Eamil\n  const [name, setName] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [errors, setErrors] = React.useState('');\n\n  const onsubmit = async (event) => {\n    event.preventDefault();\n    setErrors('')\n    console.log('username',username)\n    console.log('email',email)\n    console.log('name',name)\n    try {\n      const { user } = await Auth.signUp({\n        username: email,\n        password: password,\n        attributes: {\n          name: name,\n          email: email,\n          preferred_username: username,\n        },\n        autoSignIn: { // optional - enables auto sign in after user is confirmed\n          enabled: true,\n        }\n      });\n      console.log(user);\n      window.location.href = `/confirm?email=${email}`\n    } catch (error) {\n        console.log(error);\n        setErrors(error.message)\n    }\n    return false\n  }\n\n  const name_onchange = (event) => {\n    setName(event.target.value);\n  }\n  const email_onchange = (event) => {\n    setEmail(event.target.value);\n  }\n  const username_onchange = (event) => {\n    setUsername(event.target.value);\n  }\n  const password_onchange = (event) => {\n    setPassword(event.target.value);\n  }\n\n  let el_errors;\n  if (errors){\n    el_errors = <div className='errors'>{errors}</div>;\n  }\n\n  return (\n    <article className='signup-article'>\n      <div className='signup-info'>\n        <Logo className='logo' />\n      </div>\n      <div className='signup-wrapper'>\n        <form \n          className='signup_form'\n          onSubmit={onsubmit}\n        >\n          <h2>Sign up to create a Cruddur account</h2>\n          <div className='fields'>\n            <div className='field text_field name'>\n              <label>Name</label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={name_onchange} \n              />\n            </div>\n\n            <div className='field text_field email'>\n              <label>Email</label>\n              <input\n                type=\"text\"\n                value={email}\n                onChange={email_onchange} \n              />\n            </div>\n\n            <div className='field text_field username'>\n              <label>Username</label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={username_onchange} \n              />\n            </div>\n\n            <div className='field text_field password'>\n              <label>Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={password_onchange} \n              />\n            </div>\n          </div>\n          {el_errors}\n          <div className='submit'>\n            <button type='submit'>Sign Up</button>\n          </div>\n        </form>\n        <div className=\"already-have-an-account\">\n          <span>\n            Already have an account?\n          </span>\n          <Link to=\"/signin\">Sign in!</Link>\n        </div>\n      </div>\n    </article>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}