{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./ProfileInfo.css';import{ReactComponent as ElipsesIcon}from'./svg/elipses.svg';import React from\"react\";// [TODO] Authenication\nimport{Auth}from'aws-amplify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfileInfo(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),popped=_React$useState2[0],setPopped=_React$useState2[1];var click_pop=function click_pop(event){setPopped(!popped);};var signOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Auth.signOut({global:true});case 3:window.location.href=\"/\";localStorage.removeItem(\"access_token\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log('error signing out: ',_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function signOut(){return _ref.apply(this,arguments);};}();var classes=function classes(){var classes=[\"profile-info-wrapper\"];if(popped==true){classes.push('popped');}return classes.join(' ');};return/*#__PURE__*/_jsxs(\"div\",{className:classes(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-dialog\",children:/*#__PURE__*/_jsx(\"button\",{onClick:signOut,children:\"Sign Out\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",onClick:click_pop,children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-desc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-display-name\",children:props.user.display_name||\"My Name\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-username\",children:[\"@\",props.user.handle||\"handle\"]})]}),/*#__PURE__*/_jsx(ElipsesIcon,{className:\"icon\"})]})]});}","map":{"version":3,"names":["ReactComponent","ElipsesIcon","React","Auth","ProfileInfo","props","useState","popped","setPopped","click_pop","event","signOut","global","window","location","href","localStorage","removeItem","console","log","classes","push","join","user","display_name","handle"],"sources":["/workspace/aws-bootcamp-cruddur-2023/frontend-react-js/src/components/ProfileInfo.js"],"sourcesContent":["import './ProfileInfo.css';\nimport {ReactComponent as ElipsesIcon} from './svg/elipses.svg';\nimport React from \"react\";\n\n// [TODO] Authenication\nimport { Auth } from 'aws-amplify';\n\nexport default function ProfileInfo(props) {\n  const [popped, setPopped] = React.useState(false);\n\n  const click_pop = (event) => {\n    setPopped(!popped)\n  }\n\n  const signOut = async () => {\n    try {\n        await Auth.signOut({ global: true });\n        window.location.href = \"/\"\n        localStorage.removeItem(\"access_token\")\n    } catch (error) {\n        console.log('error signing out: ', error);\n    }\n  }\n\n  const classes = () => {\n    let classes = [\"profile-info-wrapper\"];\n    if (popped == true){\n      classes.push('popped');\n    }\n    return classes.join(' ');\n  }\n\n  return (\n    <div className={classes()}>\n      <div className=\"profile-dialog\">\n        <button onClick={signOut}>Sign Out</button> \n      </div>\n      <div className=\"profile-info\" onClick={click_pop}>\n        <div className=\"profile-avatar\"></div>\n        <div className=\"profile-desc\">\n          <div className=\"profile-display-name\">{props.user.display_name || \"My Name\" }</div>\n          <div className=\"profile-username\">@{props.user.handle || \"handle\"}</div>\n        </div>\n        <ElipsesIcon className='icon' />\n      </div>\n    </div>\n  )\n}"],"mappings":"obAAA,MAAO,mBAAmB,CAC1B,OAAQA,cAAc,GAAIC,YAAW,KAAO,mBAAmB,CAC/D,MAAOC,MAAK,KAAM,OAAO,CAEzB;AACA,OAASC,IAAI,KAAQ,aAAa,CAAC,wFAEnC,cAAe,SAASC,YAAW,CAACC,KAAK,CAAE,CACzC,oBAA4BH,KAAK,CAACI,QAAQ,CAAC,KAAK,CAAC,oDAA1CC,MAAM,qBAAEC,SAAS,qBAExB,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,KAAK,CAAK,CAC3BF,SAAS,CAAC,CAACD,MAAM,CAAC,CACpB,CAAC,CAED,GAAMI,QAAO,4FAAG,2KAEJR,KAAI,CAACQ,OAAO,CAAC,CAAEC,MAAM,CAAE,IAAK,CAAC,CAAC,QACpCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC1BC,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC,gFAEvCC,OAAO,CAACC,GAAG,CAAC,qBAAqB,aAAQ,CAAC,oEAE/C,kBARKR,QAAO,0CAQZ,CAED,GAAMS,QAAO,CAAG,kBAAM,CACpB,GAAIA,QAAO,CAAG,CAAC,sBAAsB,CAAC,CACtC,GAAIb,MAAM,EAAI,IAAI,CAAC,CACjBa,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,CACxB,CACA,MAAOD,QAAO,CAACE,IAAI,CAAC,GAAG,CAAC,CAC1B,CAAC,CAED,mBACE,aAAK,SAAS,CAAEF,OAAO,EAAG,wBACxB,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,eAAQ,OAAO,CAAET,OAAQ,sBAAkB,EACvC,cACN,aAAK,SAAS,CAAC,cAAc,CAAC,OAAO,CAAEF,SAAU,wBAC/C,YAAK,SAAS,CAAC,gBAAgB,EAAO,cACtC,aAAK,SAAS,CAAC,cAAc,wBAC3B,YAAK,SAAS,CAAC,sBAAsB,UAAEJ,KAAK,CAACkB,IAAI,CAACC,YAAY,EAAI,SAAS,EAAQ,cACnF,aAAK,SAAS,CAAC,kBAAkB,eAAGnB,KAAK,CAACkB,IAAI,CAACE,MAAM,EAAI,QAAQ,GAAO,GACpE,cACN,KAAC,WAAW,EAAC,SAAS,CAAC,MAAM,EAAG,GAC5B,GACF,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}